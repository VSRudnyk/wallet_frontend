"use strict";(self.webpackChunkwallet_frontend=self.webpackChunkwallet_frontend||[]).push([[548],{802:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var a,r,o,i,c,l,u,s,d=n(3433),g=n(7762),m=n(9439),f=n(2791),p=n(7081),x=n(3168),y=n(168),v=n(6031),h=(n(7158),v.ZP.div(a||(a=(0,y.Z)(["\n    margin-bottom: 20px;\n    position: relative;\n\n    //border: 1px solid red;\n\n    &:hover {\n        fill: var(--active-blue);\n    }\n\n    \n\n"])))),b=v.ZP.button(r||(r=(0,y.Z)(["\n    width: 100%;\n    height: 100%;\n    border: 1px solid var(--black);\n    border-radius: 30px;\n    padding: 12px 21px 14px 20px;\n\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-family: var(--baseFont);\n    font-style: normal;\n    font-weight: var(--regular);\n    font-size: 16px;\n    line-height: 1.47;\n    background: none;\n    cursor: pointer;\n    outline: none;\n\n    & svg {\n        &.rotated-svg {\n            transform: rotateX(180deg);\n        }\n  \n    }\n"]))),w=v.ZP.ul(o||(o=(0,y.Z)(["\n    width: 100%;\n    position: absolute;\n    top: 60px;\n    left: 0;\n    z-index: 1;\n    background-color: #f1f2f7;\n\n    box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.1);\n    border-radius: 20px;\n    \n"]))),N=v.ZP.li(i||(i=(0,y.Z)(["\n    text-align: start;\n    font-family: var(--baseFont);\n    font-style: normal;\n    font-weight: var(--regular);\n    font-size: 16px;\n    line-height: 1.47;\n    cursor: pointer;\n    padding: 5px 21px 5px 20px;\n    border-radius: 10px;\n\n    &:hover {\n        background-color: var(--background-gray);\n    }\n\n"]))),C=n(184),Z=function(e){var t=e.id,n=e.className;return"icon-diagram-tab-arrow-down"===t?(0,C.jsx)("svg",{id:"icon-diagram-tab-arrow-down",className:n,viewBox:"0 0 58 32",width:"18",height:"9",children:(0,C.jsx)("path",{d:"M3.938 1.881l-2.057 2.057 27.21 27.21 27.21-27.21-2.057-2.057-25.153 25.153z"})}):(0,C.jsx)("svg",{})},_=function(e){var t=e.items,n=e.changeValue,a=(0,f.useState)(t.tittle),r=(0,m.Z)(a,2),o=r[0],i=r[1],c=(0,f.useState)(!1),l=(0,m.Z)(c,2),u=l[0],s=l[1],d=(0,f.useRef)(null),g=(0,x.$)().t;function p(e){!0===u&&d.current&&(d.current.contains(e.target)||s(!1))}return(0,f.useEffect)((function(){return window.addEventListener("click",p),function(){window.removeEventListener("click",p)}})),(0,C.jsxs)(h,{className:"select__wrapper",children:[(0,C.jsxs)(b,{className:"select__button",ref:d,onClick:function(){s(!u)},status:u,children:[(0,C.jsx)("span",{className:"select__button__active-text",children:g("diagramTab.optionData.".concat(o))}),!1===u&&(0,C.jsx)(Z,{id:"icon-diagram-tab-arrow-down"}),!0===u&&(0,C.jsx)(Z,{id:"icon-diagram-tab-arrow-down",className:"rotated-svg"})]}),!0===u&&(0,C.jsx)(w,{className:"select__options-wrapper options",onClick:function(e){!function(e){if("LI"===e.target.nodeName){var t=e.target.innerText,a=e.target.dataset.itemvalue;i(t),n(a),s(!u)}}(e)},children:t&&t.data.map((function(e){var t=e.text,n=e.value;return(0,C.jsx)(N,{className:"options__item","data-itemvalue":n,children:t},t)}))})]})},j=v.ZP.div(c||(c=(0,y.Z)(["\n  @media screen and (min-width: 320px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: flex-start;\n  }\n"]))),F=v.ZP.div(l||(l=(0,y.Z)([""]))),D=v.ZP.div(u||(u=(0,y.Z)(["\n  @media screen and (min-width: 320px) {\n    width: 280px;\n    margin-top: 0;\n  }\n  @media screen and (min-width: 768px) {\n    width: 336px;\n    //margin-top: 11px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 395px;\n    margin-top: 56px;\n  }\n"]))),S=v.ZP.div(s||(s=(0,y.Z)(["\n  @media screen and (min-width: 768px) {\n    display: flex;\n  }\n"]))),P=function(e){var t=[{categoryColor:"#B5B88F",categoryName:"Main"},{categoryColor:"#FF7A7A",categoryName:"House"},{categoryColor:"#FFF1CB",categoryName:"Children"},{categoryColor:"#F0F1AB",categoryName:"Development"},{categoryColor:"#F6ACF8",categoryName:"Auto"},{categoryColor:"#75D7B4",categoryName:"Food"},{categoryColor:"#FED057",categoryName:"Basic expenses"},{categoryColor:"#FFD8D0",categoryName:"Products"},{categoryColor:"#FD9498",categoryName:"Car"},{categoryColor:"#C5BAFF",categoryName:"Self care"},{categoryColor:"#6E78E8",categoryName:"Child care"},{categoryColor:"#4A56E2",categoryName:"Household products"},{categoryColor:"#81E1FF",categoryName:"Education"},{categoryColor:"#24CCA7",categoryName:"Leisure"},{categoryColor:"#00AD84",categoryName:"Other expenses"}].find((function(t){return t.categoryName===e})),n="#"+Math.floor(16777215*Math.random()).toString(16);return void 0!==t?t.categoryColor:n},T=(0,f.lazy)((function(){return n.e(388).then(n.bind(n,521))})),k=(0,f.lazy)((function(){return Promise.all([n.e(683),n.e(128)]).then(n.bind(n,8360))})),E=function(){var e=(0,p.N)().data,t=(0,x.$)().t,n=(0,f.useState)(""),a=(0,m.Z)(n,2),r=a[0],o=a[1],i=(0,f.useState)(0),c=(0,m.Z)(i,2),l=c[0],u=c[1],s=(0,f.useState)(0),y=(0,m.Z)(s,2),v=y[0],h=y[1],b=(0,f.useState)(null),w=(0,m.Z)(b,2),N=w[0],Z=w[1],E=(0,f.useState)(null),A=(0,m.Z)(E,2),B=A[0],z=A[1],L={tittle:"month",data:[{text:t("diagramTab.optionData.jan"),value:1},{text:t("diagramTab.optionData.feb"),value:2},{text:t("diagramTab.optionData.mar"),value:3},{text:t("diagramTab.optionData.apr"),value:4},{text:t("diagramTab.optionData.may"),value:5},{text:t("diagramTab.optionData.jun"),value:6},{text:t("diagramTab.optionData.jul"),value:7},{text:t("diagramTab.optionData.aug"),value:8},{text:t("diagramTab.optionData.sep"),value:9},{text:t("diagramTab.optionData.oct"),value:10},{text:t("diagramTab.optionData.nov"),value:11},{text:t("diagramTab.optionData.dec"),value:12}]};function M(e,t){switch(e){case"income":return t.filter((function(e){return e&&"income"===e._id.type}));case"expense":return t.filter((function(e){return e&&"expense"===e._id.type}));default:console.log("incorrect type of operation")}}return(0,f.useEffect)((function(){if(void 0!==e&&""===r){var t=M("expense",e),n=M("income",e),a=t.reduce((function(e,t){return e+t.totalPrice}),0),i=n.reduce((function(e,t){return e+t.totalPrice}),0),c=function(e){var t,n=[],a=(0,g.Z)(e);try{var r=function(){var e=t.value;if(0===n.length)n=[{categoryName:e.category,categorySum:e.sum,categoryColor:P(e.category)}];else{var a=n.find((function(t){return t.categoryName===e.category}));void 0!==a?a.categorySum+=e.sum:n=[].concat((0,d.Z)(n),[{categoryName:e.category,categorySum:e.sum,categoryColor:P(e.category)}])}};for(a.s();!(t=a.n()).done;)r()}catch(o){a.e(o)}finally{a.f()}return n}(t.reduce((function(e,t){return[].concat((0,d.Z)(e),(0,d.Z)(t.category))}),[]));o(c),h(a),u(i)}}),[e,t,r]),(0,f.useEffect)((function(){if(null!==N||null!==B){var n=function(e,t){var n=e.month,a=e.year;return null===n&&null===a?t:null!==n&&null===a?t.filter((function(e){return e._id.month===Number(n)})):null===n&&null!==a?t.filter((function(e){return e._id.year===Number(a)})):null!==n&&null!==a?t.filter((function(e){return e._id.month===Number(n)&&e._id.year===Number(a)})):void console.log("incorrect arguments")}({month:N,year:B},e),a=M("expense",n),r=M("income",n),i=a.reduce((function(e,t){return e+t.totalPrice}),0),c=r.reduce((function(e,t){return e+t.totalPrice}),0),l=function(e){var n,a=[],r=(0,g.Z)(e);try{var o=function(){var e=n.value;if(0===a.length)a=[{categoryName:t("addtransaction.options.".concat(e.category)),categorySum:e.sum,categoryColor:P(e.category)}];else{var r=a.find((function(t){return t.categoryName===e.category}));void 0!==r?r.categorySum+=e.sum:a=[].concat((0,d.Z)(a),[{categoryName:t("addtransaction.options.".concat(e.category)),categorySum:e.sum,categoryColor:P(e.category)}])}};for(r.s();!(n=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return a}(a.reduce((function(e,t){return[].concat((0,d.Z)(e),(0,d.Z)(t.category))}),[]));o(l),h(i),u(c)}}),[N,e,t,B]),(0,C.jsxs)(S,{children:[(0,C.jsx)(k,{tableCategories:r,tableExpenseSum:v}),(0,C.jsx)(j,{className:"diagram-tab__wrapper",children:(0,C.jsxs)(D,{className:"diagram-tab__table-bar",children:[(0,C.jsxs)(F,{className:"diagram-tab__buttons-wrapper",children:[(0,C.jsx)(_,{items:{tittle:"year",data:[{text:"2019",value:2019},{text:"2020",value:2020},{text:"2021",value:2021},{text:"2022",value:2022}]},changeValue:z}),(0,C.jsx)(_,{items:L,changeValue:Z})]}),(0,C.jsx)(T,{tableCategories:r,tableIncomeSum:l,tableExpenseSum:v})]})})]})}}}]);
//# sourceMappingURL=DiagramTab.cc426f11.chunk.js.map