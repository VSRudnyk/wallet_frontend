"use strict";(self.webpackChunkwallet_frontend=self.webpackChunkwallet_frontend||[]).push([[548],{7827:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var n,r,o,i,c,l,u,d,s=a(3433),g=a(7762),m=a(9439),f=a(2791),p=a(7081),y=a(3168),x=a(168),v=a(6031),h=(a(7158),v.ZP.div(n||(n=(0,x.Z)(["\n    margin-bottom: 20px;\n    position: relative;\n\n    //border: 1px solid red;\n\n    &:hover {\n        fill: var(--active-blue);\n    }\n\n    \n\n"])))),b=v.ZP.button(r||(r=(0,x.Z)(["\n    width: 100%;\n    height: 100%;\n    border: 1px solid var(--black);\n    border-radius: 30px;\n    padding: 12px 21px 14px 20px;\n\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-family: var(--baseFont);\n    font-style: normal;\n    font-weight: var(--regular);\n    font-size: 16px;\n    line-height: 1.47;\n    background: none;\n    cursor: pointer;\n    outline: none;\n\n    & svg {\n        &.rotated-svg {\n            transform: rotateX(180deg);\n        }\n  \n    }\n"]))),w=v.ZP.ul(o||(o=(0,x.Z)(["\n    width: 100%;\n    position: absolute;\n    top: 60px;\n    left: 0;\n    z-index: 1;\n    background-color: #f1f2f7;\n\n    box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.1);\n    border-radius: 20px;\n    \n"]))),N=v.ZP.li(i||(i=(0,x.Z)(["\n    text-align: start;\n    font-family: var(--baseFont);\n    font-style: normal;\n    font-weight: var(--regular);\n    font-size: 16px;\n    line-height: 1.47;\n    cursor: pointer;\n    padding: 5px 21px 5px 20px;\n    border-radius: 10px;\n\n    &:hover {\n        background-color: var(--background-gray);\n    }\n\n"]))),Z=a(184),C=function(e){var t=e.id,a=e.className;return"icon-diagram-tab-arrow-down"===t?(0,Z.jsx)("svg",{id:"icon-diagram-tab-arrow-down",className:a,viewBox:"0 0 58 32",width:"18",height:"9",children:(0,Z.jsx)("path",{d:"M3.938 1.881l-2.057 2.057 27.21 27.21 27.21-27.21-2.057-2.057-25.153 25.153z"})}):(0,Z.jsx)("svg",{})},j=function(e){var t=e.items,a=e.changeValue,n=(0,f.useState)(t.tittle),r=(0,m.Z)(n,2),o=r[0],i=r[1],c=(0,f.useState)(!1),l=(0,m.Z)(c,2),u=l[0],d=l[1],s=(0,f.useRef)(null),g=(0,y.$)().t;function p(e){!0===u&&s.current&&(s.current.contains(e.target)||d(!1))}return(0,f.useEffect)((function(){return window.addEventListener("click",p),function(){window.removeEventListener("click",p)}})),(0,Z.jsxs)(h,{className:"select__wrapper",children:[(0,Z.jsxs)(b,{className:"select__button",ref:s,onClick:function(){d(!u)},status:u,children:[(0,Z.jsx)("span",{className:"select__button__active-text",children:g("diagramTab.optionData.".concat(o))}),!1===u&&(0,Z.jsx)(C,{id:"icon-diagram-tab-arrow-down"}),!0===u&&(0,Z.jsx)(C,{id:"icon-diagram-tab-arrow-down",className:"rotated-svg"})]}),!0===u&&(0,Z.jsx)(w,{className:"select__options-wrapper options",onClick:function(e){!function(e){if("LI"===e.target.nodeName){var t=e.target.id,n=e.target.dataset.itemvalue;i(t),a(n),d(!u)}}(e)},children:t&&t.data.map((function(e){var t=e.text,a=e.value,n=e.id;return(0,Z.jsx)(N,{id:n,className:"options__item","data-itemvalue":a,children:g("diagramTab.optionData.".concat(n))},t)}))})]})},_=v.ZP.div(c||(c=(0,x.Z)(["\n  @media screen and (min-width: 320px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: flex-start;\n  }\n"]))),D=v.ZP.div(l||(l=(0,x.Z)([""]))),F=v.ZP.div(u||(u=(0,x.Z)(["\n  @media screen and (min-width: 320px) {\n    width: 280px;\n    margin-top: 0;\n  }\n  @media screen and (min-width: 768px) {\n    width: 336px;\n    //margin-top: 11px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 395px;\n    margin-top: 56px;\n  }\n"]))),S=v.ZP.div(d||(d=(0,x.Z)(["\n  @media screen and (min-width: 768px) {\n    display: flex;\n  }\n"]))),T=function(e){var t=[{categoryColor:"#B5B88F",categoryName:"main"},{categoryColor:"#FF7A7A",categoryName:"house"},{categoryColor:"#FFF1CB",categoryName:"children"},{categoryColor:"#F0F1AB",categoryName:"development"},{categoryColor:"#75D7B4",categoryName:"food"},{categoryColor:"#FED057",categoryName:"basic"},{categoryColor:"#FFD8D0",categoryName:"products"},{categoryColor:"#FD9498",categoryName:"car"},{categoryColor:"#C5BAFF",categoryName:"health"},{categoryColor:"#6E78E8",categoryName:"childrencare"},{categoryColor:"#4A56E2",categoryName:"household"},{categoryColor:"#81E1FF",categoryName:"education"},{categoryColor:"#24CCA7",categoryName:"leisure"},{categoryColor:"#00AD84",categoryName:"other"}].find((function(t){return t.categoryName===e})),a="#"+Math.floor(16777215*Math.random()).toString(16);return void 0!==t?t.categoryColor:a},k=(0,f.lazy)((function(){return a.e(388).then(a.bind(a,521))})),P=(0,f.lazy)((function(){return Promise.all([a.e(683),a.e(128)]).then(a.bind(a,8360))})),E=function(){var e=(0,p.N)().data,t=(0,y.$)().t,a=(0,f.useState)(""),n=(0,m.Z)(a,2),r=n[0],o=n[1],i=(0,f.useState)(0),c=(0,m.Z)(i,2),l=c[0],u=c[1],d=(0,f.useState)(0),x=(0,m.Z)(d,2),v=x[0],h=x[1],b=(0,f.useState)(null),w=(0,m.Z)(b,2),N=w[0],C=w[1],E=(0,f.useState)(null),A=(0,m.Z)(E,2),B=A[0],z=A[1],L={tittle:"month",data:[{text:t("diagramTab.optionData.jan"),value:1,id:"jan"},{text:t("diagramTab.optionData.feb"),value:2,id:"feb"},{text:t("diagramTab.optionData.mar"),value:3,id:"mar"},{text:t("diagramTab.optionData.apr"),value:4,id:"apr"},{text:t("diagramTab.optionData.may"),value:5,id:"may"},{text:t("diagramTab.optionData.jun"),value:6,id:"jun"},{text:t("diagramTab.optionData.jul"),value:7,id:"jul"},{text:t("diagramTab.optionData.aug"),value:8,id:"aug"},{text:t("diagramTab.optionData.sep"),value:9,id:"sep"},{text:t("diagramTab.optionData.oct"),value:10,id:"oct"},{text:t("diagramTab.optionData.nov"),value:11,id:"nov"},{text:t("diagramTab.optionData.dec"),value:12,id:"dec"}]};function M(e,t){switch(e){case"income":return t.filter((function(e){return e&&"income"===e._id.type}));case"expense":return t.filter((function(e){return e&&"expense"===e._id.type}));default:console.log("incorrect type of operation")}}return(0,f.useEffect)((function(){if(void 0!==e&&""===r){var t=M("expense",e),a=M("income",e),n=t.reduce((function(e,t){return e+t.totalPrice}),0),i=a.reduce((function(e,t){return e+t.totalPrice}),0),c=function(e){var t,a=[],n=(0,g.Z)(e);try{var r=function(){var e=t.value;if(0===a.length)a=[{categoryName:e.category,categorySum:e.sum,categoryColor:T(e.category)}];else{var n=a.find((function(t){return t.categoryName===e.category}));void 0!==n?n.categorySum+=e.sum:a=[].concat((0,s.Z)(a),[{categoryName:e.category,categorySum:e.sum,categoryColor:T(e.category)}])}};for(n.s();!(t=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}return a}(t.reduce((function(e,t){return[].concat((0,s.Z)(e),(0,s.Z)(t.category))}),[]));o(c),h(n),u(i)}}),[e,t,r]),(0,f.useEffect)((function(){if(null!==N||null!==B){var t=function(e,t){var a=e.month,n=e.year;return null===a&&null===n?t:null!==a&&null===n?t.filter((function(e){return e._id.month===Number(a)})):null===a&&null!==n?t.filter((function(e){return e._id.year===Number(n)})):null!==a&&null!==n?t.filter((function(e){return e._id.month===Number(a)&&e._id.year===Number(n)})):void console.log("incorrect arguments")}({month:N,year:B},e),a=M("expense",t),n=M("income",t),r=a.reduce((function(e,t){return e+t.totalPrice}),0),i=n.reduce((function(e,t){return e+t.totalPrice}),0),c=function(e){var t,a=[],n=(0,g.Z)(e);try{var r=function(){var e=t.value;if(0===a.length)a=[{categoryName:e.category,categorySum:e.sum,categoryColor:T(e.category)}];else{var n=a.find((function(t){return t.categoryName===e.category}));void 0!==n?n.categorySum+=e.sum:a=[].concat((0,s.Z)(a),[{categoryName:e.category,categorySum:e.sum,categoryColor:T(e.category)}])}};for(n.s();!(t=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}return a}(a.reduce((function(e,t){return[].concat((0,s.Z)(e),(0,s.Z)(t.category))}),[]));o(c),h(r),u(i)}}),[N,e,t,B]),(0,Z.jsxs)(S,{children:[(0,Z.jsx)(P,{tableCategories:r,tableExpenseSum:v}),(0,Z.jsx)(_,{className:"diagram-tab__wrapper",children:(0,Z.jsxs)(F,{className:"diagram-tab__table-bar",children:[(0,Z.jsxs)(D,{className:"diagram-tab__buttons-wrapper",children:[(0,Z.jsx)(j,{items:{tittle:"year",data:[{text:"2019",value:2019,id:"19"},{text:"2020",value:2020,id:"20"},{text:"2021",value:2021,id:"21"},{text:"2022",value:2022,id:"22"}]},changeValue:z}),(0,Z.jsx)(j,{items:L,changeValue:C})]}),(0,Z.jsx)(k,{tableCategories:r,tableIncomeSum:l,tableExpenseSum:v})]})})]})}}}]);
//# sourceMappingURL=DiagramTab.4aa9cf52.chunk.js.map