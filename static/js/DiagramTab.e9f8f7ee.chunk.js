"use strict";(self.webpackChunkwallet_frontend=self.webpackChunkwallet_frontend||[]).push([[548],{802:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var r,a,o,i,c,l,u,s,d=n(3433),g=n(7762),m=n(9439),f=n(2791),y=n(7081),x=n(168),p=n(6031),v=(n(7158),p.ZP.div(r||(r=(0,x.Z)(["\n    margin-bottom: 20px;\n    position: relative;\n\n    //border: 1px solid red;\n\n    &:hover {\n        fill: var(--active-blue);\n    }\n\n    \n\n"])))),h=p.ZP.button(a||(a=(0,x.Z)(["\n    width: 100%;\n    height: 100%;\n    border: 1px solid var(--black);\n    border-radius: 30px;\n    padding: 12px 21px 14px 20px;\n\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-family: var(--baseFont);\n    font-style: normal;\n    font-weight: var(--regular);\n    font-size: 16px;\n    line-height: 1.47;\n    background: none;\n    cursor: pointer;\n    outline: none;\n\n    & svg {\n        &.rotated-svg {\n            transform: rotateX(180deg);\n        }\n  \n    }\n"]))),b=p.ZP.ul(o||(o=(0,x.Z)(["\n    width: 100%;\n    position: absolute;\n    top: 60px;\n    left: 0;\n    z-index: 1;\n    background-color: #f1f2f7;\n\n    box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.1);\n    border-radius: 20px;\n    \n"]))),w=p.ZP.li(i||(i=(0,x.Z)(["\n    text-align: start;\n    font-family: var(--baseFont);\n    font-style: normal;\n    font-weight: var(--regular);\n    font-size: 16px;\n    line-height: 1.47;\n    cursor: pointer;\n    padding: 5px 21px 5px 20px;\n    border-radius: 10px;\n\n    &:hover {\n        background-color: var(--background-gray);\n    }\n\n"]))),N=n(184),C=function(e){var t=e.id,n=e.className;return"icon-diagram-tab-arrow-down"===t?(0,N.jsx)("svg",{id:"icon-diagram-tab-arrow-down",className:n,viewBox:"0 0 58 32",width:"18",height:"9",children:(0,N.jsx)("path",{d:"M3.938 1.881l-2.057 2.057 27.21 27.21 27.21-27.21-2.057-2.057-25.153 25.153z"})}):(0,N.jsx)("svg",{})},Z=function(e){var t=e.items,n=e.changeValue,r=(0,f.useState)(t.tittle),a=(0,m.Z)(r,2),o=a[0],i=a[1],c=(0,f.useState)(!1),l=(0,m.Z)(c,2),u=l[0],s=l[1],d=(0,f.useRef)(null);function g(e){!0===u&&d.current&&(d.current.contains(e.target)||s(!1))}return(0,f.useEffect)((function(){return window.addEventListener("click",g),function(){window.removeEventListener("click",g)}})),(0,N.jsxs)(v,{className:"select__wrapper",children:[(0,N.jsxs)(h,{className:"select__button",ref:d,onClick:function(){s(!u)},status:u,children:[(0,N.jsx)("span",{className:"select__button__active-text",children:o}),!1===u&&(0,N.jsx)(C,{id:"icon-diagram-tab-arrow-down"}),!0===u&&(0,N.jsx)(C,{id:"icon-diagram-tab-arrow-down",className:"rotated-svg"})]}),!0===u&&(0,N.jsx)(b,{className:"select__options-wrapper options",onClick:function(e){!function(e){if("LI"===e.target.nodeName){var t=e.target.innerText,r=e.target.dataset.itemvalue;i(t),n(r),s(!u)}}(e)},children:t&&t.data.map((function(e){var t=e.text,n=e.value;return(0,N.jsx)(w,{className:"options__item","data-itemvalue":n,children:t},t)}))})]})},_=p.ZP.div(c||(c=(0,x.Z)(["\n  @media screen and (min-width: 320px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: flex-start;\n  }\n"]))),F=p.ZP.div(l||(l=(0,x.Z)([""]))),j=p.ZP.div(u||(u=(0,x.Z)(["\n  @media screen and (min-width: 320px) {\n    width: 280px;\n    margin-top: 0;\n  }\n  @media screen and (min-width: 768px) {\n    width: 336px;\n    //margin-top: 11px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 395px;\n    margin-top: 56px;\n  }\n"]))),S=p.ZP.div(s||(s=(0,x.Z)(["\n  @media screen and (min-width: 768px) {\n    display: flex;\n  }\n"]))),P=function(e){var t=[{categoryColor:"#B5B88F",categoryName:"Main"},{categoryColor:"#FF7A7A",categoryName:"House"},{categoryColor:"#FFF1CB",categoryName:"Children"},{categoryColor:"#F0F1AB",categoryName:"Development"},{categoryColor:"#F6ACF8",categoryName:"Auto"},{categoryColor:"#75D7B4",categoryName:"Food"},{categoryColor:"#FED057",categoryName:"Basic expenses"},{categoryColor:"#FFD8D0",categoryName:"Products"},{categoryColor:"#FD9498",categoryName:"Car"},{categoryColor:"#C5BAFF",categoryName:"Self care"},{categoryColor:"#6E78E8",categoryName:"Child care"},{categoryColor:"#4A56E2",categoryName:"Household products"},{categoryColor:"#81E1FF",categoryName:"Education"},{categoryColor:"#24CCA7",categoryName:"Leisure"},{categoryColor:"#00AD84",categoryName:"Other expenses"}].find((function(t){return t.categoryName===e})),n="#"+Math.floor(16777215*Math.random()).toString(16);return void 0!==t?t.categoryColor:n},k=(0,f.lazy)((function(){return n.e(388).then(n.bind(n,521))})),E=(0,f.lazy)((function(){return Promise.all([n.e(683),n.e(128)]).then(n.bind(n,8360))})),A=function(){var e=(0,y.N)().data,t=(0,f.useState)(""),n=(0,m.Z)(t,2),r=n[0],a=n[1],o=(0,f.useState)(0),i=(0,m.Z)(o,2),c=i[0],l=i[1],u=(0,f.useState)(0),s=(0,m.Z)(u,2),x=s[0],p=s[1],v=(0,f.useState)(null),h=(0,m.Z)(v,2),b=h[0],w=h[1],C=(0,f.useState)(null),A=(0,m.Z)(C,2),B=A[0],D=A[1];function M(e,t){switch(e){case"income":return t.filter((function(e){return e&&"income"===e._id.type}));case"expense":return t.filter((function(e){return e&&"expense"===e._id.type}));default:console.log("incorrect type of operation")}}return(0,f.useEffect)((function(){if(void 0!==e&&""===r){var t=M("expense",e),n=M("income",e),o=t.reduce((function(e,t){return e+t.totalPrice}),0),i=n.reduce((function(e,t){return e+t.totalPrice}),0),c=function(e){var t,n=[],r=(0,g.Z)(e);try{var a=function(){var e=t.value;if(0===n.length)n=[{categoryName:e.category,categorySum:e.sum,categoryColor:P(e.category)}];else{var r=n.find((function(t){return t.categoryName===e.category}));void 0!==r?r.categorySum+=e.sum:n=[].concat((0,d.Z)(n),[{categoryName:e.category,categorySum:e.sum,categoryColor:P(e.category)}])}};for(r.s();!(t=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return n}(t.reduce((function(e,t){return[].concat((0,d.Z)(e),(0,d.Z)(t.category))}),[]));a(c),p(o),l(i)}}),[e,r]),(0,f.useEffect)((function(){if(null!==b||null!==B){var t=function(e,t){var n=e.month,r=e.year;return null===n&&null===r?t:null!==n&&null===r?t.filter((function(e){return e._id.month===Number(n)})):null===n&&null!==r?t.filter((function(e){return e._id.year===Number(r)})):null!==n&&null!==r?t.filter((function(e){return e._id.month===Number(n)&&e._id.year===Number(r)})):void console.log("incorrect arguments")}({month:b,year:B},e),n=M("expense",t),r=M("income",t),o=n.reduce((function(e,t){return e+t.totalPrice}),0),i=r.reduce((function(e,t){return e+t.totalPrice}),0),c=function(e){var t,n=[],r=(0,g.Z)(e);try{var a=function(){var e=t.value;if(0===n.length)n=[{categoryName:e.category,categorySum:e.sum,categoryColor:P(e.category)}];else{var r=n.find((function(t){return t.categoryName===e.category}));void 0!==r?r.categorySum+=e.sum:n=[].concat((0,d.Z)(n),[{categoryName:e.category,categorySum:e.sum,categoryColor:P(e.category)}])}};for(r.s();!(t=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return n}(n.reduce((function(e,t){return[].concat((0,d.Z)(e),(0,d.Z)(t.category))}),[]));a(c),p(o),l(i)}}),[b,e,B]),(0,N.jsxs)(S,{children:[(0,N.jsx)(E,{tableCategories:r,tableExpenseSum:x}),(0,N.jsx)(_,{className:"diagram-tab__wrapper",children:(0,N.jsxs)(j,{className:"diagram-tab__table-bar",children:[(0,N.jsxs)(F,{className:"diagram-tab__buttons-wrapper",children:[(0,N.jsx)(Z,{items:{tittle:"Year",data:[{text:"2019",value:2019},{text:"2020",value:2020},{text:"2021",value:2021},{text:"2022",value:2022}]},changeValue:D}),(0,N.jsx)(Z,{items:{tittle:"Month",data:[{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}]},changeValue:w})]}),(0,N.jsx)(k,{tableCategories:r,tableIncomeSum:c,tableExpenseSum:x})]})})]})}}}]);
//# sourceMappingURL=DiagramTab.e9f8f7ee.chunk.js.map