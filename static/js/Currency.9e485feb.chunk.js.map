{"version":3,"file":"static/js/Currency.9e485feb.chunk.js","mappings":"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","sources":["components/Currency/Currency.styled.js","components/Currency/index.js","components/Currency/Currency.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nimport Line from '../../images/line-currency-min.png';\n\nexport const TableWrapper = styled.div`\n  @media screen and (min-width: 768px) {\n    display: block;\n    width: 336px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 393px;\n    height: 347px;\n  }\n`;\n\nexport const TableHeaderContainer = styled.div`\n  background: var(--blue);\n  padding: 11px 20px 12px 20px;\n  border-radius: 30px 30px 0px 0px;\n  @media screen and (min-width: 1280px) {\n    padding: 17px 64px 16px 44px;\n  }\n`;\n\nexport const TableHeaderList = styled.ul`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nexport const TableHeaderListItem = styled.li`\n  font-family: var(--baseFont);\n  font-style: normal;\n  font-weight: var(--bold);\n  font-size: 18px;\n  line-height: 27px;\n  text-align: center;\n  color: var(--white);\n`;\n\nexport const TableBodyContainer = styled.div`\n  background: var(--active-blue);\n  border-bottom-left-radius: 30px;\n  border-bottom-right-radius: 30px;\n  padding: 12px 20px 16px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  @media screen and (min-width: 768px) {\n    padding: 16px 20px 12px 20px;\n  }\n  @media screen and (min-width: 1280px) {\n    /* height: 287px; */\n    padding: 20px 61px 20px 58px;\n  }\n  background-image: linear-gradient(\n      180deg,\n      rgba(255, 255, 255, 0.2) -8.67%,\n      rgba(255, 255, 255, 0) 116.22%\n    ),\n    url(${Line});\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: bottom;\n`;\n\nexport const TableBodyList = styled.ul`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 124px;\n  overflow-y: hidden;\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n  @media screen and (min-width: 768px) {\n    height: 111px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 273px;\n    height: 270px;\n  }\n`;\n\nexport const TableBodyListItem = styled.li`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const TableBodyText = styled.p`\n  font-family: var(--baseFont);\n  font-style: normal;\n  font-weight: var(--reqular);\n  font-size: 16px;\n  line-height: 24px;\n\n  width: 35px;\n  height: 24px;\n  &:not(:last-child) {\n    margin-right: 67px;\n  }\n\n  color: var(--white);\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n  @media screen and (min-width: 768px) {\n    &:not(:last-child) {\n      margin-right: 95px;\n    }\n  }\n  @media screen and (min-width: 1280px) {\n    &:not(:last-child) {\n      margin-right: 0;\n      margin-bottom: 24px;\n    }\n  }\n`;\n\nexport const LoaderWrapper = styled.div`\n  @media screen and (min-width: 320px) {\n    margin-left: 100px;\n    margin-top: 30px;\n  }\n\n  @media screen and (min-width: 768px) {\n    margin-top: 20px;\n    margin-left: 120px;\n  }\n  @media screen and (min-width: 1280px) {\n    position: absolute;\n    left: 50%;\n    top: 40%;\n    transform: translate(-50%, -50%);\n    margin-top: 0px;\n    margin-left: 0px;\n  }\n`;\n","import { Currency } from './Currency.jsx';\n\nexport default Currency;\n","import { v4 as uuidv4 } from 'uuid';\nimport { useState, useEffect } from 'react';\n// import { ToastContainer } from 'react-toastify';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\n\nimport { HashLoader } from 'react-spinners';\n\nimport Media from 'react-media';\n\nimport {\n  TableHeaderContainer,\n  TableHeaderList,\n  TableHeaderListItem,\n  TableBodyContainer,\n  TableBodyList,\n  TableBodyListItem,\n  TableBodyText,\n  TableWrapper,\n  LoaderWrapper,\n} from './Currency.styled';\nimport { useLocation, Navigate } from 'react-router-dom';\n// import { getCurrency } from './API/ApiCurrency';\n\nexport const Currency = ({ page }) => {\n  const [currency, setCurrency] = useState([]);\n  const [status, setStatus] = useState('pending');\n\n  const location = useLocation();\n  const { pathname } = location;\n\n  useEffect(() => {\n    setStatus('pending');\n    let data = new Date();\n    let currentDate = data.getTime();\n\n    const isSaveLocal = JSON.parse(localStorage.getItem('currency'));\n    if (isSaveLocal) {\n      const time = currentDate - isSaveLocal.date;\n      if (time < 3600000) {\n        setStatus('resolve');\n        setCurrency(isSaveLocal.currency);\n        return;\n      }\n    }\n    async function FetchCurrency() {\n      const arrMainCurrency = [];\n      let result = null;\n      try {\n        const currency = await axios(\n          'https://wallet-backend-1.herokuapp.com/api/currency'\n        );\n\n        for (let currencyBack of currency.data.exchangeRate) {\n          if (\n            currencyBack.currency === 'USD' ||\n            currencyBack.currency === 'EUR' ||\n            currencyBack.currency === 'PLZ'\n          ) {\n            arrMainCurrency.push(currencyBack);\n          }\n        }\n        result = currency.data.exchangeRate.filter(\n          cur =>\n            cur.currency !== 'RUB' &&\n            cur.currency !== 'USD' &&\n            cur.currency !== 'EUR' &&\n            cur.currency !== 'PLZ'\n        );\n        result.push(...arrMainCurrency);\n        const DateToLocal = {\n          date: data.getTime(),\n          currency: result.reverse(),\n        };\n        localStorage.setItem('currency', JSON.stringify(DateToLocal));\n        setStatus('resolve');\n        return setCurrency(result);\n      } catch (error) {\n        console.log(error);\n        toast.error('Something wrong, try again!');\n      }\n    }\n    FetchCurrency();\n  }, []);\n  return (\n    <>\n      <Media queries={{ table: { minWidth: 768 } }}>\n        {matches =>\n          matches.table &&\n          pathname !== '/wallet_frontend/home' &&\n          pathname !== '/wallet_frontend/diagram' && (\n            <Navigate to=\"/wallet_frontend/home\" />\n          )\n        }\n      </Media>\n      <Media queries={{ mobile: { minWidth: 320 } }}>\n        {matches =>\n          matches.mobile &&\n          pathname === '/wallet_frontend/currency' && (\n            <TableWrapper page={page}>\n              <TableHeaderContainer>\n                <TableHeaderList>\n                  <TableHeaderListItem>Currency</TableHeaderListItem>\n                  <TableHeaderListItem>Purchase</TableHeaderListItem>\n                  <TableHeaderListItem>Sale</TableHeaderListItem>\n                </TableHeaderList>\n              </TableHeaderContainer>\n              <TableBodyContainer>\n                <TableBodyList>\n                  {currency.length > 0 &&\n                    currency.map(({ currency, purchaseRateNB, saleRateNB }) => {\n                      return (\n                        <>\n                          <TableBodyListItem key={uuidv4()}>\n                            <TableBodyText key={uuidv4()}>\n                              {currency}\n                            </TableBodyText>\n                            <TableBodyText key={uuidv4()}>\n                              {Number(purchaseRateNB).toFixed(2)}\n                            </TableBodyText>\n                            <TableBodyText key={uuidv4()}>\n                              {Number(saleRateNB).toFixed(2)}\n                            </TableBodyText>\n                          </TableBodyListItem>\n                        </>\n                      );\n                    })}\n                  {status === 'pending' && (\n                    <LoaderWrapper>\n                      <HashLoader\n                        color=\"#f7f7f7\"\n                        loading\n                        size={35}\n                        speedMultiplier={1.5}\n                      />\n                    </LoaderWrapper>\n                  )}\n                </TableBodyList>\n              </TableBodyContainer>\n              {/* <ToastContainer /> */}\n            </TableWrapper>\n          )\n        }\n      </Media>\n      <Media queries={{ tablet: { minWidth: 768 } }}>\n        {matches =>\n          matches.tablet && (\n            <TableWrapper page={page}>\n              <TableHeaderContainer>\n                <TableHeaderList>\n                  <TableHeaderListItem>Currency</TableHeaderListItem>\n                  <TableHeaderListItem>Purchase</TableHeaderListItem>\n                  <TableHeaderListItem>Sale</TableHeaderListItem>\n                </TableHeaderList>\n              </TableHeaderContainer>\n              <TableBodyContainer>\n                <TableBodyList>\n                  {currency.length > 0 &&\n                    currency.map(({ currency, purchaseRateNB, saleRateNB }) => {\n                      return (\n                        <>\n                          <TableBodyListItem key={uuidv4()}>\n                            <TableBodyText key={uuidv4()}>\n                              {currency}\n                            </TableBodyText>\n                            <TableBodyText key={uuidv4()}>\n                              {Number(purchaseRateNB).toFixed(2)}\n                            </TableBodyText>\n                            <TableBodyText key={uuidv4()}>\n                              {Number(saleRateNB).toFixed(2)}\n                            </TableBodyText>\n                          </TableBodyListItem>\n                        </>\n                      );\n                    })}\n\n                  {status === 'pending' && (\n                    <LoaderWrapper>\n                      <HashLoader\n                        color=\"#f7f7f7\"\n                        loading\n                        size={45}\n                        speedMultiplier={1.5}\n                      />\n                    </LoaderWrapper>\n                  )}\n                </TableBodyList>\n              </TableBodyContainer>\n              {/* <ToastContainer /> */}\n            </TableWrapper>\n          )\n        }\n      </Media>\n    </>\n  );\n};\n"],"names":["TableWrapper","styled","TableHeaderContainer","TableHeaderList","TableHeaderListItem","TableBodyContainer","Line","TableBodyList","TableBodyListItem","TableBodyText","LoaderWrapper","page","useState","currency","setCurrency","status","setStatus","pathname","useLocation","useEffect","data","Date","currentDate","getTime","isSaveLocal","JSON","parse","localStorage","getItem","date","arrMainCurrency","result","axios","exchangeRate","currencyBack","push","filter","cur","DateToLocal","reverse","setItem","stringify","console","log","toast","FetchCurrency","queries","table","minWidth","matches","to","mobile","length","map","purchaseRateNB","saleRateNB","uuidv4","Number","toFixed","HashLoader","color","loading","size","speedMultiplier","tablet"],"sourceRoot":""}